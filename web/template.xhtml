<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title><ui:insert name="title">Default Title</ui:insert></title>
        <h:outputStylesheet name="bootstrap-3.0.0/dist/css/bootstrap.min.css"/>
        <h:outputStylesheet name="/css/abey.css"/>
    </h:head>

    <h:body>
        <div class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <h:link outcome="/index" class="navbar-brand">
                        <span class="glyphicon glyphicon-home"/> aBey
                    </h:link>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li>
                            <h:form class="navbar-form">
                                <div class="form-group">
                                    <p:inputText id="search-field" value="#{ProduitsRecherche.query}" required="true"/>
                                    <p:watermark for="search-field" value="Recherche"/>
                                </div>
                                <div class="form-group">
                                    <h:commandLink value="Search" class="btn btn-primary" action="#{ProduitsRecherche.search}" />
                                </div>
                            </h:form>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#about"><span class="glyphicon glyphicon-shopping-cart"/></a></li>
                        <li><a href="#about"><span class="glyphicon glyphicon-cog"/></a></li>

                        <li id="login-form">
                            <h:form class="navbar-form">
                                <div class="form-group">
                                    <p:inputText id="nom" value="#{identifiants.nom}" />
                                    <p:watermark for="nom" value="Pseudo"/>
                                </div>
                                <div class="form-group">
                                    <p:password id="pass" value="#{identifiants.pass}" />
                                    <p:watermark for="pass" value="Mot de passe"/>
                                </div>
                                <div class="form-group">
                                    <h:commandLink value="Login" class="btn btn-primary" action="#{loginController.login}" />
                                </div>
                                <div class="form-group">
                                    <h:link outcome="/utilisateurs/Create" class="btn btn-primary">Creer un compte</h:link>
                                </div>
                            </h:form>

                        </li>
                        <h:panelGroup  rendered="#{loginController.loggedInUserName == null}">
                            <li id="show-login-li">
                                <div class="form-group navbar-form">
                                    <a href="#about" id="show-login" class="btn btn-primary">Login</a>
                                </div>
                            </li>
                        </h:panelGroup>
                        <h:panelGroup  rendered="#{loginController.loggedInUserName != null}">
                            <li>
                                <h:form class="navbar-form">
                                    <div class="form-group">
                                        <h:outputText value="#{loginController.loggedInUserName}" />
                                    </div>
                                    <div class="form-group">

                                        <h:commandLink value="Disconnect" class="btn btn-primary" action="#{loginController.logout}" />
                                    </div>
                                </h:form>                                  
                            </li>
                        </h:panelGroup>

                    </ul>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-2">
                    <ul class="dropdown-menu" id="main-menu" role="menu" aria-labelledby="dropdownMenu">
                        <li class="dropdown-header" role="presentation">Boutiques</li>
                        <li><a href="#">Electronique</a></li>
                        <li><a href="#">Vêtements</a></li>
                        <li><a href="#">Voiture</a></li>
                        <li><a href="#">...</a></li>
                        <li><a href="#">...</a></li>
                    </ul>
                </div>
                <div class="col-lg-10">
                    <ui:insert name="body">Default Body</ui:insert>
                </div>
            </div>
        </div>

        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-lg-2">
                        <ul>
                            <li><a href="#">Mentions légales</a></li>
                            <li><a href="#">Nous contacter</a></li>
                            <li><a href="#">Plan du site</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2">
                        <ul>
                            <li><a href="#">Foire aux questions</a></li>
                            <li><a href="#">____________</a></li>
                            <li><a href="#">____________</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <h:outputScript name="bootstrap-3.0.0/dist/js/bootstrap.min.js"/>
        <h:outputScript name="js/abey.js"/>
    </h:body>

</html>
