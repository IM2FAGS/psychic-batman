<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:form class="form-horizontal" enctype="multipart/form-data">
        <p:messages id="msgs" autoUpdate="true"/>
        <div class="form-group">
            <label for="nom" class="col-sm-2 control-label">
                <h:outputText value="#{bundle.ProductName}" />
            </label>
            <div class="col-sm-5">
                <p:inputText id="nom"
                             value="#{produitController.selected.nom}"
                             required="true"
                             requiredMessage="#{bundle.ProductNameRequired}"
                             styleClass="form-control" />
                <p:watermark for="nom" value="#{bundle.ProductName}"/>
            </div>
        </div>
        <div class="form-group">
            <label for="description" class="col-sm-2 control-label">
                <h:outputText value="#{bundle.Description}" />
            </label>
            <div class="col-sm-5">
                <p:inputTextarea id="description"
                                 value="#{produitController.selected.description}"
                                 title="#{bundle.ProductDescription}"
                                 required="true"
                                 requiredMessage="#{bundle.DescriptionRequired}"
                                 styleClass="form-control"/>
                <p:watermark for="description" value="#{bundle.Description}"/>
            </div>
        </div>
        <div class="form-group">
            <label for="categorie" class="col-sm-2 control-label">
                <h:outputText value="#{bundle.Category}" />
            </label>
            <div class="col-sm-5">
                <p:selectOneMenu value="#{produitController.selected.categorie}"
                                 required="true"
                                 requiredMessage="#{bundle.CategoryRequired}"
                                 effect="fade"
                                 converter="#{null}">  
                    <f:selectItem itemLabel="#{bundle.SelectCategory}" itemValue="" />  
                    <f:selectItems value="#{categorieController.all}" var="categorie" itemLabel="#{player.name}" itemValue="#{categorie}"/>  
                </p:selectOneMenu>  
            </div>
        </div>
        <div class="form-group">
            <label for="image" class="col-sm-2 control-label">
                <h:outputText value="#{bundle.Image}" />
            </label>
            <div class="col-sm-5">
                <p:fileUpload fileUploadListener="#{produitController.uploadProductImage}"
                              mode="advanced"
                              dragDropSupport="true"
                              update="image-messages"
                              sizeLimit="#{produitController.sizeLimit}"
                              allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                              auto="true" />
                <p:growl id="image-messages" showDetail="true"/>
            </div>
        </div>
        <ui:insert name="action">
        <h:commandLink
            class="btn btn-primary"
            action="#{produitController.create}"
            value="#{bundle.CreateProduct}" />
        </ui:insert>
    </h:form>
</html>
